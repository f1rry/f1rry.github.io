<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>PHP常用函数整理 | F1rry&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="PHP常用函数整理写下这些作为备忘录，这些函数是个人认为比较重要的。">
<meta name="keywords" content="PHP">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP常用函数整理">
<meta property="og:url" content="http://yoursite.com/2018/07/18/PHP常用函数整理-1/index.html">
<meta property="og:site_name" content="F1rry&#39;s blog">
<meta property="og:description" content="PHP常用函数整理写下这些作为备忘录，这些函数是个人认为比较重要的。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-11T06:57:13.159Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP常用函数整理">
<meta name="twitter:description" content="PHP常用函数整理写下这些作为备忘录，这些函数是个人认为比较重要的。">
  
    <link rel="alternate" href="/atom.xml" title="F1rry&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://ws1.sinaimg.cn/large/007cmQxLgy1ft3ijjc4pdj30jg0lmn0c.jpg">
    <h2 class="author">f1rry</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>6</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>5</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main"><article id="post-PHP常用函数整理-1" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/18/PHP常用函数整理-1/" class="article-date">
  <time class="post-time" datetime="2018-07-18T13:05:00.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">18</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PHP常用函数整理
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="PHP常用函数整理"><a href="#PHP常用函数整理" class="headerlink" title="PHP常用函数整理"></a>PHP常用函数整理</h1><p>写下这些作为备忘录，这些函数是个人认为比较重要的。<br><a id="more"></a></p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><ul>
<li><p>(r)sort ( )<br>对<strong>值</strong>进行(反)正向排序而不用考虑键的问题,值会被赋予新的键  </p>
</li>
<li><p>a(r)sort ( )<br>对<strong>值</strong>进行(反)正向排序的同时保持每个值同它键之间的对应关系  </p>
</li>
<li><p>k(r)sort ( )<br>对<strong>键</strong>进行(反)正向排序的同时保持每个键同它值之间的对应关系   </p>
</li>
<li><p>implode( )<br>它用来将数组转换为字符串<br>为了将一个数组转换为字符串，需要定义用什么作为分隔符（也就是之间的连接符），PHP将处理剩下的工作：<br>$string = implode($glue, $array)</p>
</li>
<li><p>explode( )<br>$array = explode($separator, $string);<br>separator分隔符指明了一个或多个字符，用来区分一个值的结束和另外一个值    开始。通常情况下分隔符是一个逗号、一个制表符或者一个空格。<br>用来将字符串转换为数组  </p>
</li>
<li><p>list()<br>函数用来将数组元素的值赋给单独的变量。<br>示例：<br>$date = array(‘Thursday’, 23, ‘October’);<br>list($weekday, $day, $month) = $date;<br>现在$weekday变量有了Thursday这个值，$day变量的值则为23，$month变量的值为October。<br>在使用list()时要注意两点。首先，list()只对数值型索引并从0开始索引的数组有用。其次，当使用list()函数时，必须确认接受每一个数组元素。<br>但是可以用空值的方式忽略元素：<br>list ($weekday, , $month) = $date;     </p>
</li>
</ul>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><ul>
<li><p>nl2br ( )<br>在字符串 string 所有新行之前插入 ‘&lt;br /&gt;’ 或 ‘&lt;br&gt;’，并返回。  </p>
</li>
<li><p>htmlspecialchars( )<br>将<strong>特定</strong>的HTML标签转换为<strong>实体版本</strong>。  </p>
</li>
<li><p>htmlentities( )<br>将<strong>所有</strong>的HTML标签转换为<strong>实体版本</strong>.  </p>
</li>
<li><p>strip_tags( )<br>移除所有的HTML和PHP<strong>标签</strong>。  </p>
</li>
<li><p>urlencode( )<br>接受一个字符串，并对之编码（encode）（改变它的格式），以便它完全适合作为<br>URL的一部分传输。  </p>
</li>
<li><p>crypt( )<br>对数据进行加密(单向加密)  </p>
</li>
<li><p>strtok( )<br>string strtok ( string $str , string $token )<br>strtok() 将字符串 str 分割为若干子字符串，每个子字符串以 token 中的字符分割。  </p>
</li>
<li><p>substr( )<br>string substr ( string $string , int $start [, int $length ] )<br>返回字符串 string 由 start 和 length 参数指定的子字符串。  </p>
</li>
<li><p>strcmp( )<br>将用返回一个整数的方式返回两个字符串的比较结果   </p>
</li>
<li><p>strnatcmp( )<br>类似，但是从语言学上更加精确  </p>
</li>
<li><p>strcasecmp( )<br>不区分大小写的比较函数  </p>
</li>
<li><p>strnatcasecmp( )<br>不区分大小写的比较函数 </p>
</li>
<li><p>strstr( )<br>返回字符串中从被找寻的字符串第一次出现的位置开始直到字符串结束的所有字符  </p>
</li>
<li><p>str_ireplace( )<br>mixed str_ireplace ( mixed $search , mixed $replace , mixed $subject [, int &amp;$count ] )<br>该函数返回一个字符串或者数组。该字符串或数组是将 subject 中全部的 search 都被 replace 替换（忽略大小写）之后的结果。如果没有一些特殊的替换规则，你应该使用该函数替换带有 i 修正符的 preg_replace() 函数。  </p>
</li>
</ul>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><ul>
<li>define()<br>为常量赋值，define(常量名称，值)  </li>
</ul>
<h3 id="输出缓冲"><a href="#输出缓冲" class="headerlink" title="输出缓冲"></a>输出缓冲</h3><p>利用输出缓冲，HTML和打印的数据（输出）将被放到缓冲（也就是内存）中。当脚本执行结束后，缓冲将被发送到Web浏览器，或者如果需要的话，缓冲可以清空而不发送到Web浏览器  </p>
<ul>
<li>ob_start()<br>在脚本中尽可能早地调用ob_start()函数  </li>
</ul>
<p>在脚本的结束位置，所有的HTML之后，添加:  </p>
<ul>
<li><p>ob_end_flush()<br>将积累下来的缓冲发送到Web浏览器  </p>
</li>
<li><p>ob_end_clean()<br>删除缓冲的数据而不进行传输  </p>
</li>
</ul>
<h3 id="处理HTTP头"><a href="#处理HTTP头" class="headerlink" title="处理HTTP头"></a>处理HTTP头</h3><ul>
<li>header()<br>须在任何内容被发送到Web浏览器之前调用该函数——否则，会看到非常常见的“HTTP头已发送”错误消息（因此可以用到”输出缓冲”的方式）<br>header()函数的一种常见的用法：<br>将用户从一个页面重定向到另一个页面。要使用PHP来重定向用户的浏览器，需要发送一个location头：<br>header(‘Location: page.php’)</li>
</ul>
<h3 id="cookie和session"><a href="#cookie和session" class="headerlink" title="cookie和session"></a>cookie和session</h3><ul>
<li><p>setcookie( )<br>setcookie(name, value, expiration, path, domain, secure,httponly);<br>删除名为username的cookie，可以编写代码<br>setcookie(‘username’, ‘’);<br>或<br>setcookie(‘username’, FALSE);<br>和所有带有参数的函数一样，必须按顺序传递所有的参数值。在先前的示例中，如果不希望指定（或者限制）路径和域，需要使用空的引号。在path参数中，可以使用一个单独的斜线（/）表示根目录（即，无路径重定向）。通过这样做，可以保留适当数量的参数并且如果需要仍然能够指定使用HTTPS连接。  </p>
</li>
<li><p>session_start( )<br>创建、访问或删除session<br>一旦启用session，可以通过向数组$_SESSION赋值的方式记录数据  </p>
</li>
<li><p>session_name( )<br>可以修改session的名称（替代默认的PHPSESSID）,必须在session_start之前使用   </p>
</li>
<li><p>session_set_cookie_params( )<br>函数用来修改session  cookie的设置（如过期时间、路径和域）。</p>
</li>
<li><p>session_destroy( )<br>从服务器上删除session数据（保存在临时文件中）<br>$_SESSION = array()再次设置数组$_SESSION来删除session的值（在客户端上）（全部删除）<br>可以使用unset($_SESSION[‘var’])来删除一个单独的session值  </p>
</li>
</ul>
<p>当session ID必须附加给站点中每个链接（以便让每个页面都能够接受到session ID）的情况下，可以让PHP使用session而不使用cookie  </p>
<h3 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a>文件读写</h3><ul>
<li><p>basename()<br>string basename ( string $path [, string $suffix ] )<br>basename — 返回路径中的文件名部分<br>如果文件名是以 suffix 结束的，那这一部分也会被去掉。</p>
</li>
<li><p>file_get_contents()<br>将整个文件读入一个字符串  </p>
</li>
<li><p>file_put_contents( )<br>file_put_contents($file, $data)<br>PHP5以上，打开文件并写入数据。第一个参数是文件名。可以使用绝对路径，也可以使用相对路径（参见框注“文件路径”）。第二个参数是要写入的数据，可以是字符串、数字或数组（只能是一维数组，不能使用多维数组）。<br>如果文件不存在，函数会尝试创建它。如果文件存在，文件的内容会被新的数据取代。如果需要将新内容追加到文件中，加入FILE_APPEND<br>常量作为第三个参数：<br>file_put_contents($file, $data, FILE_APPEND)<br>当多个PHP脚本试图在同一时刻写入同一个文件时，就会出现问题（文件会损坏）。解决方法是在PHP对文件进行写入时，暂时锁定该文件<br>file_put_contents($file, $data, LOCK_EX);<br>file_put_contents($file, $data, FILE_APPEND | LOCK_EX）<br>可以使用PHP专用的常量PHP_EOL，表示当前操作系统的换行符（即，\n或\r\n）   </p>
</li>
<li><p>is_writable()<br>这个函数返回布尔值，表示指定文件是否可被写入  </p>
</li>
<li><p>file( )<br>读取文件中的所有内容并将这些信息放置在一个数组中。数组的每个元素都包含了文件中的一行，这些行是用换行符（\n或\r\n）分隔的。  </p>
</li>
<li><p>move_uploaded_file()<br>当文件上传后，服务器会将其放置在一个临时目录中。之后可以使用<br>move_uploaded_file()<br>函数将文件存放在其最终目标位置：<br>move_uploaded_file($_FILES[‘picture’][‘tmp_name’], ‘/path/to/dest/filename’);<br>第一个参数是服务器中文件的临时名。第二个参数是移动目标的完整路径和文件名。  </p>
</li>
<li><p>unlink()<br>删除文件</p>
</li>
<li><p>scandir()<br>$stuff = scandir($dir);<br>列出指定路径中的文件和目录<br>该函数是PHP 5中添加的，用于返回一个数组，其中包含了从给定目录中找到的所有项——目录和文件。就这个与文件有关的函数来说，$dir（要被浏览的目录）的值可以是绝对路径也可以是相对路径。  </p>
</li>
<li><p>filesize()<br>检查文件大小  </p>
</li>
<li><p>filemtime()<br>函数用于检索文件的修改时间。  </p>
</li>
<li><p>glob()<br>函数可以搜索名字与模式相匹配的文件目录  </p>
</li>
<li><p>mkdir(‘directory_name’, permissions);<br>directory_name是要创建的目录的名字。这个值可以是以当前目录（即脚本所在的目录）为起点的相对路径，也可以是完整路径  </p>
</li>
<li><p>fgetcsv()<br>它使用给定的分隔符切分字符串，并返回一个数组：<br>$array = fgetcsv($fp, length, delimiter);<br>它使用默认的分隔符（逗号）对字符串进行切分，该分隔符用作元素位置的指示器<br>如果提供分隔符参数，就可以改变用于描述数据的分隔符。<br>因为这函数依赖于行尾指示符，所以最好采用额外的保护措施，即启用PHP的auto_detect_line_endings设置。可以使用ini_set()函数来完成：<br>ini_set(‘auto_detect_line_endings’, 1)  </p>
</li>
<li><p>rename()<br>bool rename ( string $oldname , string $newname [, resource $context ] )<br>尝试把 oldname 重命名为 newname。</p>
</li>
</ul>
<p>要让表单接受文件上传，在form开始标签中应入enctype属性：<br>enctype=”multipart/form-data”<br>可以通过 $subdir = time() . rand(0, 4596)这样简单的方式为文件重命名且保证他的唯一性  </p>
<h3 id="MySQL数据库"><a href="#MySQL数据库" class="headerlink" title="MySQL数据库"></a>MySQL数据库</h3><ul>
<li><p>mysqli_connect( )<br>mysqil_connect(hostname, username, password)<br>用于连接数据库  </p>
</li>
<li><p>mysqli_close( )<br>用于关闭与数据库的连接  </p>
</li>
<li><p>mysqli_query()<br>执行MySQL语句</p>
</li>
<li><p>mysqli_select_db()<br>用于选中数据库<br>注意，任何时候一个数据库只需要创建一次，但每次在其上运行查询之前都需要选中它。换句话说，一些开发人员需要执行前述的第一步（指创建数据库），而每个人在每个PHP脚本中都需要执行前述第二步（指选中数据库）。  </p>
</li>
<li><p>mysqli_real_escape_ string()<br>该函数会对任何可能危险的字符进行转义，即在其前面添加一个反斜线，确保<br>查询中使用的数据是安全的：<br>string mysqli_real_escape_string ( mysqli $link , string $escapestr )<br>$link: 仅以过程化样式：由mysqli_connect() 或 mysqli_init() 返回的链接标识。<br>$escapestr : 需要进行转义的字符串,会被进行转义的字符包括： NUL （ASCII 0），\n，\r，\，’，” 和 Control-Z.  </p>
</li>
<li><p>mysqli_fetch_array()<br>函数从结果集中每次获取一行数据，并在这一过程中创建一个数组。例如从查询语句中：$result = mysql_query($query, $dbc);<br>这个数组会使用已选择的列名作为索引：$row[‘name’]、$row[‘email’]等。和使用其他数组一样，必须通过数据库中定义的确切列名来引用其中的列（列名是区分大小写的）。<br>如果查询会返回多行数据，在循环中执行mysql_fetch_array()函数，以获取所有的行</p>
</li>
<li><p>mysqli_affected_row()<br>该函数用于返回被INSERT、DELETE或UPDATE查询影响到的行数。  </p>
</li>
</ul>
<h3 id="网络查询函数"><a href="#网络查询函数" class="headerlink" title="网络查询函数"></a>网络查询函数</h3><ul>
<li><p>parse_url()<br>解析url,返回一个包含url各部分的关联数组，url组成部分包括模式、用户、主机、端口、路径、查询以及分段 </p>
</li>
<li><p>gethostbyname()<br>输入主机，返回IP地址  </p>
</li>
<li><p>gethostbyadd()<br>输入IP地址，返回主机名称；</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/18/PHP常用函数整理-1/" data-id="cjm6atzee000k5cvssy21416n" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/19/PHP+Mysql编写日常/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          PHP编写日常
        
      </div>
    </a>
  
  
    <a href="/2018/07/13/非法文件上传漏洞总结/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">非法文件上传漏洞总结</div>
    </a>
  
</nav>

  
</article>



</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">F1rry&#39;s blog</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://ws1.sinaimg.cn/large/007cmQxLgy1ft3ijjc4pdj30jg0lmn0c.jpg">
    <h2 class="author">f1rry</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>6</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>5</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/f1rry" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="https://brownfly.github.io/page/2/" target="_blank" title="brownfly">
          brownfly
        </a>
      
        <a class="hvr-bounce-in" href="http://blog.ckj123.com/" target="_blank" title="ckj123">
          ckj123
        </a>
      
        <a class="hvr-bounce-in" href="http://mki603.top/" target="_blank" title="Mki">
          Mki
        </a>
      
        <a class="hvr-bounce-in" href="http://blog.0e1.top/" target="_blank" title="Li4n0">
          Li4n0
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2017 - 2018 f1rry<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/f1rry/f1rry.github.io">Christina</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>